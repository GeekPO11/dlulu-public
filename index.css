@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }

  :root {
    /* Light theme (cool, airy like reference screenshot) */
    --background: 220 33% 98%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 222 47% 11%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 16% 96%;
    --secondary-foreground: 222 47% 11%;
    --muted: 220 16% 96%;
    --muted-foreground: 218 22% 28%;
    --accent: 220 16% 94%;
    --accent-foreground: 222 47% 11%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 222 47% 11%;
    --radius: 0.75rem;
    --chart-1: 24 95% 53%;
    --chart-2: 173 58% 39%;
    --chart-3: 350 89% 60%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark,
  [data-theme="dark"] {
    --background: 25.71 17.07% 8.04%;
    --foreground: 0 0% 95%;
    --card: 25 18.18% 12.94%;
    --card-foreground: 0 0% 95%;
    --popover: 25 18.18% 12.94%;
    --popover-foreground: 0 0% 95%;
    --primary: 25 95% 52.94%;
    --primary-foreground: 0 0% 100%;
    --secondary: 25.26 19.59% 19.02%;
    --secondary-foreground: 0 0% 95%;
    --muted: 25.26 19.59% 19.02%;
    --muted-foreground: 0 0% 88%;
    --accent: 25.26 19.59% 19.02%;
    --accent-foreground: 0 0% 95%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 24.44 18.88% 28.04%;
    --input: 24.44 18.88% 28.04%;
    --ring: 25 95% 52.94%;
    --chart-1: 25 95% 60%;
    --chart-2: 160 60% 45%;
    --chart-3: 350 89% 60%;
    --chart-4: 43 74% 70%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    line-height: 1.6;
  }
}

@media (max-width: 640px) {
  html {
    font-size: 17px;
  }
}

/* Global readability overrides for body/caption text */
.text-xs {
  font-size: 0.88rem;
  line-height: 1.35;
}

.text-sm {
  font-size: 1rem;
  line-height: 1.5;
}

[class~="text-[8px]"] {
  font-size: 0.72rem !important;
  line-height: 1.25 !important;
}

[class~="text-[9px]"] {
  font-size: 0.78rem !important;
  line-height: 1.3 !important;
}

[class~="text-[10px]"] {
  font-size: 0.84rem !important;
  line-height: 1.3 !important;
}

[class~="text-[11px]"] {
  font-size: 0.9rem !important;
  line-height: 1.35 !important;
}

[class~="text-[12px]"] {
  font-size: 0.95rem !important;
  line-height: 1.4 !important;
}

[class~="text-[14px]"] {
  font-size: 1.03rem !important;
  line-height: 1.45 !important;
}

/* Custom animations */
@keyframes float {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse-slow {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.7;
  }
}

@keyframes spin-slow {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-pulse-slow {
  animation: pulse-slow 2s ease-in-out infinite;
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

/* ========================================
   Stitch Design System Utilities
   ======================================== */

/* Glass Navigation */
.glass-nav {
  background: hsl(var(--background) / 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid hsl(var(--border) / 0.7);
}

/* Glass Surface (Cards, Modals) */
.glass-surface {
  background: hsl(var(--card) / 0.85);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid hsl(var(--border) / 0.8);
}

/* Text Gradient (Theme Primary) */
.text-gradient {
  color: hsl(var(--primary));
  background-image: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--chart-3)));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.dark .text-gradient,
[data-theme="dark"] .text-gradient {
  color: #f97415;
  background-image: linear-gradient(90deg, #fca25a, #f97415 45%, #fb7185);
}

@supports not ((-webkit-background-clip: text) or (background-clip: text)) {
  .text-gradient {
    background-image: none !important;
    -webkit-text-fill-color: initial;
  }
}

/* Brand Gradient Background */
.bg-brand-gradient {
  background: hsl(var(--primary));
}

.dark .bg-brand-gradient,
[data-theme="dark"] .bg-brand-gradient {
  background: linear-gradient(135deg, #f97415 0%, #f43f5e 100%);
}

/* Glow Button Effect */
.glow-button {
  box-shadow: 0 0 20px hsl(var(--primary) / 0.25);
}

.glow-button:hover {
  box-shadow: 0 0 30px hsl(var(--primary) / 0.4);
}

/* Floating Chip (Goal Pills) */
.floating-chip {
  box-shadow: 0 4px 15px hsl(var(--foreground) / 0.08);
  border: 1px solid hsl(var(--border) / 0.8);
}

/* Stitch Card */
.stitch-card {
  background: hsl(var(--card) / 0.85);
  border: 1px solid hsl(var(--border) / 0.8);
  border-radius: 1rem;
}

.stitch-card:hover {
  border-color: hsl(var(--primary) / 0.35);
}

/* Progress Ring */
.progress-ring {
  transform: rotate(-90deg);
}

.progress-ring-circle {
  transition: stroke-dashoffset 0.5s ease;
}

/* Stitch Input */
.stitch-input {
  background: hsl(var(--background) / 0.7);
  border: 1px solid hsl(var(--input) / 0.9);
  color: hsl(var(--foreground));
}

.stitch-input:focus {
  border-color: hsl(var(--primary));
  outline: none;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.25);
}

.stitch-input::placeholder {
  color: hsl(var(--muted-foreground) / 0.8);
}

/* Float animations for landing page */
@keyframes float-1 {

  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }

  50% {
    transform: translate(-20px, 15px) scale(1.05);
  }
}

@keyframes float-2 {

  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }

  50% {
    transform: translate(15px, -20px) scale(1.03);
  }
}

@keyframes float-3 {

  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }

  50% {
    transform: translate(-10px, -15px) scale(1.02);
  }
}

.animate-float-1 {
  animation: float-1 8s ease-in-out infinite;
}

.animate-float-2 {
  animation: float-2 10s ease-in-out infinite;
}

.animate-float-3 {
  animation: float-3 12s ease-in-out infinite;
}

/* Manfiest Engine Specific Glass Styles */
.glass-panel {
  background: hsl(var(--card) / 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--border) / 0.8);
}

.glass-modal {
  background: hsl(var(--card) / 0.92);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid hsl(var(--border) / 0.8);
  box-shadow: 0 25px 50px -12px hsl(var(--foreground) / 0.18);
}

.calendar-glow {
  box-shadow: 0 0 15px hsl(var(--primary) / 0.2);
}

.today-ring {
  background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary) / 0.75));
  padding: 2px;
}

.heatmap-cell {
  aspect-ratio: 1 / 1;
}

.glass-card {
  background: hsl(var(--card) / 0.6);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--border) / 0.8);
}

.glass-dock {
  background: hsl(var(--background) / 0.8);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid hsl(var(--border) / 0.8);
}

.text-brand-coffee {
  color: hsl(var(--muted-foreground));
}

.bg-brand-coffee-dark {
  background-color: hsl(var(--background));
}

/* AI Chat Bubble Glass */
.glass-ai {
  background: hsl(var(--card) / 0.55);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--border) / 0.8);
  box-shadow: 0 0 20px hsl(var(--foreground) / 0.08);
}

.mask-gradient-b {
  mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
}
